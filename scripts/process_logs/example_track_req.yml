
input_logs:                                       # List of input logs
  - path: .                                       # Where to look for log files
    recursive: yes                                # Whether to descend into subdirectories recursively
    pattern: (Node\d+)\.log                       # Log file regex pattern to look for
    node_group: 1                                 # Group number that matches node identifier
    only_timestamped: yes                         # Whether to discard non-timestamped lines


chains:                                           # List of processing chains
  main:                                           # Main processing chain
  - match: [replica: master]
  - track_requests:
  - match: request
  - log line: output
  - stat_received:
  - stat_already_processed:
  - stat_ordered:

  stat_received:
  - match: [request: received]
  - log count: { stats: received }
  - log time: { stats: received }
  - drop:

  stat_already_processed:
  - match: [request: already_processed]
  - log count: { stats: already_processed }
  - drop:

  stat_ordered:
  - match: [request: ordered]
  - log count: { stats: ordered }
  - log time: { stats: ordered }
  - drop:

outputs:
  logs:                                           # List of output log sinks
    output:                                       # View change log sink
      filename: output.log                        # Filename where to put messages

  timelogs:
    stats:
      graphs:
        received: blue
        ordered: green

  counters:
    stats:
      format: "<node> requests: <received>/<ordered> received/ordered, <already_processed> already_processed"