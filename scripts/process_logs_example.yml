
input_logs:                        # List of input logs
  - path: .                        # Where to look for log files
    recursive: yes                 # Whether to descend into subdirectories recursively
    pattern: Node(\d+)\.log$        # Log file regex pattern to look for
    node_group: 1                  # Group number that matches node identifier
    only_timestamped: no           # Whether to discard non-timestamped lines


chains:
  main:
  - log time: {monitoring: total}
  - log count: {monitoring: total}
  - process: warnings
  - process: tag_commits
  - match: [tag: COMMIT]
  - log line: commits


  warnings:
  - match: [level: WARNING]
  - log time: {monitoring: warnings}
  - log count: {monitoring: warnings}
  - log line: warnings


logs:
  warnings:
    filename: warnings_<node>.log
    pattern: <timestamp> | <message>
    merge_nodes: no
  commits:
    filename: commits.log
    pattern: <timestamp> | <node> | <instId> <seqNo>
    merge_nodes: yes


timelogs:
  monitoring:
    interval: 20          # Interval in seconds
    graphs:               # Graph list with colors
    - total: blue
    - warnings: red

counters:
  monitoring:
    format: |
      Node <node>: <total> total, <warnings> warnings